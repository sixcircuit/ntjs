"use strict";

var { eq, ok, async } = require('./common.js');

test("defer", function(done){

   await{ async.echo(defer(var one), 1); }

   eq(one, 1);

   done();

});

test("defer immediate", function(done){

   function immediate(callback, x){ callback(x); }

   await{ immediate(defer(var one), 1); }

   eq(one, 1);

   done();

});
 
